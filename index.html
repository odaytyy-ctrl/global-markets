<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Global Markets</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header>
  <h1>ğŸŒ Global Markets</h1>
</header>

<section class="cards">
  <div class="card">
    <h3>Gold</h3>
    <p id="gold">--</p>
  </div>
  <div class="card">
    <h3>Bitcoin</h3>
    <p id="btc">--</p>
  </div>
  <div class="card">
    <h3>XRP</h3>
    <p id="xrp">--</p>
  </div>
</section>

<canvas id="marketChart"></canvas>

<button onclick="loadData()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</button>

<script src="./app.js"></script>
</body>
</html>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
}
header {
  padding: 15px;
  text-align: center;
  background: #020617;
  font-size: 20px;
  font-weight: bold;
}
.container {
  padding: 20px;
}
.card {
  background: #020617;
  padding: 15px;
  margin-bottom: 15px;
  border-radius: 10px;
}
.price {
  font-size: 22px;
  color: #22c55e;
}
.small {
  font-size: 13px;
  color: #9ca3af;
}
</style>
</head>

<body>

<header>
ğŸ“Š Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© (Ø°Ù‡Ø¨ â€“ ÙØ¶Ø© â€“ Ù…Ø¹Ø§Ø¯Ù†)
</header>

<div class="container">

<div class="card">
  <div>ğŸ¥‡ Ø§Ù„Ø°Ù‡Ø¨ (XAU)</div>
  <div class="price" id="gold">ØªØ­Ù…ÙŠÙ„...</div>
</div>

<div class="card">
  <div>ğŸ¥ˆ Ø§Ù„ÙØ¶Ø© (XAG)</div>
  <div class="price" id="silver">ØªØ­Ù…ÙŠÙ„...</div>
</div>

<div class="card">
  <div>ğŸ“… Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«</div>
  <div class="small" id="time">â€”</div>
</div>

</div>

<script>
const API_KEY = "Ø¶Ø¹_Ù…ÙØªØ§Ø­Ùƒ_Ù‡Ù†Ø§"; // â† Ø§Ù„ØµÙ‚ Ù…ÙØªØ§Ø­Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ

async function loadPrices() {
  try {
    const res = await fetch(
      `https://metals-api.com/api/latest?access_key=${API_KEY}&base=USD&symbols=XAU,XAG`
    );
    const data = await res.json();

    // Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ù„Ù„Ø£ÙˆÙ†ØµØ©
    const goldPrice = (1 / data.rates.XAU).toFixed(2);
    const silverPrice = (1 / data.rates.XAG).toFixed(2);

    document.getElementById("gold").innerText =
      `$${goldPrice} / Ø£ÙˆÙ†ØµØ©`;

    document.getElementById("silver").innerText =
      `$${silverPrice} / Ø£ÙˆÙ†ØµØ©`;

    document.getElementById("time").innerText =
      new Date(data.timestamp * 1000).toLocaleString();

  } catch (e) {
    alert("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±");
  }
}

loadPrices();
</script>
<script>
async function fetchPrices() {
  try {
    // BTC
    const btcRes = await fetch("https://api.coindesk.com/v1/bpi/currentprice/USD.json");
    const btcData = await btcRes.json();
    document.getElementById("btc").innerText =
      "USD " + btcData.bpi.USD.rate_float.toFixed(0);

    // XRP
    const xrpRes = await fetch(
      "https://api.coingecko.com/api/v3/simple/price?ids=ripple&vs_currencies=usd"
    );
    const xrpData = await xrpRes.json();
    document.getElementById("xrp").innerText =
      "USD " + xrpData.ripple.usd.toFixed(2);

    // GOLD
    const goldRes = await fetch("https://api.metals.live/v1/spot/gold");
    const goldData = await goldRes.json();
    document.getElementById("gold").innerText =
      "USD " + goldData[0][1].toFixed(0);

  } catch (err) {
    console.error(err);
    alert("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±");
  }
}

// ØªØ­Ù…ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ
fetchPrices();
</script>
</body>
</html>

<script>
async function fetchPrices() {
  try {
    // Bitcoin
    const btcRes = await fetch("https://api.coindesk.com/v1/bpi/currentprice/USD.json");
    const btcData = await btcRes.json();
    document.getElementById("btc").innerText = "USD " + btcData.bpi.USD.rate_float.toFixed(0);

    // XRP
    const xrpRes = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=ripple&vs_currencies=usd");
    const xrpData = await xrpRes.json();
    document.getElementById("xrp").innerText = "USD " + xrpData.ripple.usd.toFixed(2);

    // Gold
    const goldRes = await fetch("https://api.metals.live/v1/spot/gold");
    const goldData = await goldRes.json();
    document.getElementById("gold").innerText = "USD " + goldData[0][1].toFixed(0);

  } catch (e) {
    alert("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±");
    console.error(e);
  }
}

fetchPrices();
</script>

